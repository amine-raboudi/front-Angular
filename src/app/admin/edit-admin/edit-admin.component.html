<div    *ngFor="let data of dataAg">
    <h1 mat-dialog-titles style="text-align:center;color:#d8b9ed">Edit Profile</h1>
    <hr>

    <form [formGroup]="userForm" (ngSubmit)="registerUser(data)"  #myForm="ngForm">
      <div  class="row">
        
        <div    class="col">
            <mat-card class="example-card"  color="#ff0000">
               
                <img mat-card-image class="example-header-image" src="{{data.logo}}" alt="Photo of a Shiba Inu">
                
                <mat-card-actions>
                <input   type="file" id="fileInput" style="display: none" formControlName="logo"  value="logo"  (change)="onFileSelected($event)" required >
                  <button mat-button    (click)="openFileInput() ; $event.preventDefault(); $event.stopPropagation()">Change</button>
                </mat-card-actions>
              </mat-card>
        </div>
        <div    class="col"     >
            <div>
                <mat-form-field appearance="fill">
                <mat-label>Name</mat-label>
                <input matInput formControlName="name"  [(ngModel)]=" data.name" placeholder=" Agency's name"  required>
                <mat-error *ngIf="userForm.get('name')?.hasError('required')">Name is required</mat-error>
              </mat-form-field>
              <mat-form-field appearance="fill" style="margin-left:10px;margin-bottom:20px;width:200px">
                <mat-label>Email</mat-label>
                <input matInput formControlName="email" [(ngModel)]=" data.email" placeholder="Ex. pat@example.com" required>
                <mat-error *ngIf="userForm.get('email')?.hasError('required')">Email is required</mat-error>
                <mat-error *ngIf="userForm.get('email')?.hasError('email')">Invalid email format</mat-error>
              </mat-form-field>
            </div>
            
          <div>
           
            <mat-form-field appearance="fill" style="margin-bottom:20px;width:200px;">
              <mat-label>Password</mat-label>
              <input matInput formControlName="password" [(ngModel)]=" data.password" placeholder=" Your password" [type]="hide ? 'password' : 'text'" required>
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="userForm.get('password')?.hasError('required')">Password is required</mat-error>
              <mat-error *ngIf="userForm.get('password')?.hasError('minlength')">Password must be at least 6 characters long</mat-error>
            </mat-form-field>
      
            <mat-form-field appearance="fill"style="margin-left:10px;margin-bottom:20px;width:200px" >
              <mat-label>Confirm Password</mat-label>
              <input matInput formControlName="confirmPassword" [(ngModel)]=" data.password" placeholder="Repeat your password" [type]="hide ? 'password' : 'text'" required>
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="userForm.get('confirmPassword')?.hasError('required')">Password is required</mat-error>
              <mat-error *ngIf="userForm.get('confirmPassword')?.hasError('passwordMismatch')">Passwords do not match</mat-error>
            </mat-form-field>
            
        </div>
        
        <div>
          <mat-form-field appearance="fill" style="margin-bottom:20px;">
            <mat-select  formControlName="country" placeholder="Select a country"    [(ngModel)]="data.country"  >
                
              <mat-select-search   >
                
                <mat-option *ngFor="let country of filteredCountries" [value]="country" >
                  <span class="flag-icon flag-icon-{{ country.code |  lowercase}}"></span>{{ country.name }}
        
                </mat-option>
      
              </mat-select-search>
      
            </mat-select>
          <mat-error *ngIf="userForm.get('country')?.hasError('required')">Country is required</mat-error>
        </mat-form-field>
      
        <mat-form-field appearance="fill" style="margin-left:10px;margin-bottom:20px;width:200px">
          <mat-label>City</mat-label>
          <input matInput formControlName="city" [(ngModel)]=" data.city"  placeholder=" Your city" required>
          <mat-error *ngIf="userForm.get('city')?.hasError('required')">City is required</mat-error>
        </mat-form-field>
      
        <mat-form-field appearance="fill">
          <mat-label>Address</mat-label>
          <input matInput formControlName="adress" [(ngModel)]=" data.adress" placeholder=" Your address" required>
          <mat-error *ngIf="userForm.get('adress')?.hasError('required')">Address is required</mat-error>
        </mat-form-field>
      
        <mat-form-field appearance="fill" style="margin-left:10px;margin-bottom:20px;width:200px">
          <mat-label>Phone Number</mat-label>
          <input matInput formControlName="phoneNumber" [(ngModel)]=" data.phoneNumber"  placeholder=" +1 123 456 789" required>
          <mat-icon matSuffix>phone</mat-icon>
          <mat-error *ngIf="userForm.get('phoneNumber')?.hasError('required')">Phone Number is required</mat-error>
        </mat-form-field>
      
       
      </div>
      
              
        </div>
      </div>
        
     
          
    <hr>
       
          <button mat-raised-button color="primary" style="margin-left:400px;"type="submit">Save</button>
          
    </form>
    
  
  
  <div>
  